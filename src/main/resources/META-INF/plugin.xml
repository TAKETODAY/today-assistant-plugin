<!--
  ~ Original Author -> Harry Yang (taketoday@foxmail.com) https://taketoday.cn
  ~ Copyright Â© TODAY & 2017 - 2022 All Rights Reserved.
  ~
  ~ DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU General Public License as published by
  ~ the Free Software Foundation, either version 3 of the License, or
  ~ (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU General Public License for more details.
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with this program.  If not, see [http://www.gnu.org/licenses/]
  -->

<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>

  <name>Today Infrastructure Assistant</name>

  <id>cn.taketoday.assistant</id>
  <vendor email="taketoday@foxmail.com" url="https://taketoday.cn">Harry Yang</vendor>

  <depends>com.intellij.modules.platform</depends>
  <depends>com.intellij.modules.java</depends>
  <depends>com.intellij.modules.lang</depends>
  <depends>org.jetbrains.plugins.yaml</depends>
  <depends>com.intellij.properties</depends>

  <!-- Optional dependency on another plugin.
     If the plugin with the "com.MySecondPlugin" ID is installed, the contents of mysecondplugin.xml
     (the format of this file conforms to the format of plugin.xml) will be loaded. -->
  <depends config-file="spel.xml" optional="true">com.intellij.spring</depends>
  <depends config-file="maven.xml" optional="true">org.jetbrains.idea.maven</depends>
  <depends config-file="lang-injections.xml" optional="true">org.intellij.intelliLang</depends>

  <extensions defaultExtensionNs="com.intellij">
    <applicationService serviceImplementation="cn.taketoday.assistant.service.IconService" />
    <applicationService serviceImplementation="cn.taketoday.assistant.service.ApplicationService" />
    <projectService serviceImplementation="cn.taketoday.assistant.service.ProjectService" />

    <!-- today-strategies.properties -->
    <fileType name="today-strategies.properties" fieldName="FILE_TYPE"
        implementationClass="cn.taketoday.assistant.core.TodayStrategiesFileType" />
    <idIndexer filetype="today-strategies.properties" implementationClass="com.intellij.lang.properties.idCache.PropertiesIdIndexer" />
    <todoIndexer filetype="today-strategies.properties" implementationClass="com.intellij.lang.properties.idCache.PropertiesTodoIndexer" />

    <properties.alphaUnsortedInspectionSuppressor
        implementation="cn.taketoday.assistant.core.TodayStrategiesFileInspectionSuppressor" />

    <properties.implicitPropertyUsageProvider
        implementation="cn.taketoday.assistant.core.StrategiesImplicitPropertyUsageProvider" />

    <psi.referenceContributor language="Properties"
        implementation="cn.taketoday.assistant.core.StrategiesReferenceContributor" />

    <moduleService serviceImplementation="cn.taketoday.assistant.core.StrategiesManager" />
    <fileBasedIndex implementation="cn.taketoday.assistant.core.StrategiesFileIndex" />

  </extensions>

  <applicationListeners>
    <listener class="cn.taketoday.assistant.listener.PluginProjectManagerListener"
        topic="com.intellij.openapi.project.ProjectManagerListener" />
  </applicationListeners>

</idea-plugin>
